<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mycompany.healthcare.dao.MessagesDao">
	<select id="getMessageList" resultType="messages">
		select message_id, message_content, staff_login_id, date_format(message_date, '%Y-%m-%d %H:%i') as message_date, staff_id, message_sender
		from messages
		where staff_login_id=#{staff_login_id}
		order by message_id desc
	</select>
	
	<insert id="insertMessage" parameterType="messages">
		insert into messages
		(message_content,staff_login_id,staff_id,message_sender)
		values
		(#{message_content}, #{staff_login_id}, #{staff_id},#{message_sender})
	</insert>
	
	<delete id="deleteByMessgeId" parameterType="int">
		delete from messages
		where message_id=#{message_id}
	</delete>
</mapper>